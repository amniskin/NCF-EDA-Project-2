a
a = c(1, 2)
b = c(3, 4)
d = matrix(a, b)
View(d)
View(d)
a = c(1, 2, 3, 4, 5, 6)
b = matrix(a, nrow = 2)
View(b)
a = c(2,3,4,5,6,7)
View(b)
vals = matrix(c(1,2,4,5,9,0,1,7,9,10), ncol=2)
cor(vals)
cor(vals[,1], vals[,2])
View(vals)
vals = matrix(c(1,3,5,6,9,0,1,7,9,10), ncol=2)
cor(vals[,1], vals[,2])
View(vals)
library("boot", lib.loc="/usr/lib/R/library")
library(tidyverse)
library(xtable)
setwd("~/Documents/courses/newCollege/current/eda/projects/project2/")
printNamedDf <- function(df, title="") {
tmp <- xtable(df, caption=title)
return(print.xtable(tmp, comment=FALSE))
}
printDf <- function(df, title="") {
tmp <- xtable(df, caption=title)
return(print.xtable(tmp, comment=FALSE, include.rownames = FALSE))
}
complete_cases <- function(df) {
tmp <- as.data.frame(names(df))
tmp <- cbind(tmp, as.data.frame(sapply(df, function(col) {
sum(complete.cases(col))
})))
tmp <- cbind(tmp, as.data.frame(sapply(df, function(col){
100 * sum(complete.cases(col)) / length(col)
})))
names(tmp) <- c("FieldName", "CompleteCases", "PercentComplete")
return(tmp)
}
source("http://peterhaschke.com/Code/multiplot.R")
H_data1 <- read.csv("csv_files/Readmissions\ and\ Deaths\ -\ Hospital.csv")
H_data1_sub <- H_data1[,c(1,2,4:7,10,11,13:15)]
colnames(H_data1_sub) <- c("ID", "Hospital", "City", "State", "Zip", "County", "Measure_ID", "Compared_to_National", "Score", "Lower", "Higher")
rm(printDf)
rm(printNamedDf)
print(complete_cases())
print(complete_cases)
rm(complete_cases)
H_data1_sub$Compared_to_National[which(H_data1_sub$Compared_to_National == "Not Available")] <- NA
H_data1_sub$Compared_to_National[which(H_data1_sub$Compared_to_National == "Number of Cases Too Small")] <- NA
H_data1_sub$Score[which(H_data1_sub$Score == "Not Available")] <- NA
sum(complete.cases(H_data1_sub))/nrow(H_data1_sub)*100
H_data1_ami_mort <- H_data1_sub[which(H_data1_sub$Measure_ID == "MORT_30_AMI"),]
sum(complete.cases(H_data1_ami_mort))/nrow(H_data1_ami_mort)*100
H_data1_ami_readm <- H_data1_sub[which(H_data1_sub$Measure_ID == "READM_30_AMI"),]
sum(complete.cases(H_data1_ami_readm))/nrow(H_data1_ami_mort)*100
H_data1_ami_mort$Score <- as.numeric(as.character(H_data1_ami_mort$Score))
H_data1_ami_readm$Score <- as.numeric(as.character(H_data1_ami_readm$Score))
H_data1_ami_best_mort <- H_data1_ami_mort[which(H_data1_ami_mort$Compared_to_National == "Better than the National Rate"),]
H_data1_ami_worst_mort <- H_data1_ami_mort[which(H_data1_ami_mort$Compared_to_National == "Worse than the National Rate"),]
H_data1_ami_best_readm <- H_data1_ami_readm[which(H_data1_ami_readm$Compared_to_National == "Better than the National Rate"),]
H_data1_ami_worst_readm <- H_data1_ami_readm[which(H_data1_ami_readm$Compared_to_National == "Worse than the National Rate"),]
```
##Slide 1
```{r echo=FALSE, message = FALSE, warning = FALSE}
counties_best_mort <- H_data1_ami_best_mort %>% group_by(County, State) %>% summarise(Count_Hospitals = n_distinct(Hospital)) %>% arrange(desc(Count_Hospitals))
counties_avg_mort_score <- H_data1_ami_mort %>% group_by(County, State) %>% summarise(Average_Mort_Score = mean(Score, na.rm = TRUE)) %>% arrange(desc(County, State))
counties_avg_readm_score <- H_data1_ami_readm %>% group_by(County, State) %>% summarise(Average_Readm_Score = mean(Score, na.rm = TRUE)) %>% arrange(desc(County, State))
counties_avg_scores <- inner_join(counties_avg_mort_score, counties_avg_readm_score, by = c("County", "State"))
colnames(H_data1_ami_mort)[9] <- "Death_Score"
colnames(H_data1_ami_readm)[9] <- "Readmission_Score"
H_data1_ami_readm_Score <- as.data.frame(H_data1_ami_readm$Readmission_Score)
colnames(H_data1_ami_readm_Score) <- "Readmission_Score"
hospitals_scores <- bind_cols(H_data1_ami_mort, H_data1_ami_readm_Score)
density_death <- ggplot(H_data1_ami_mort, aes(Death_Score)) + geom_density(na.rm=TRUE)
density_read <- ggplot(H_data1_ami_readm, aes(Readmission_Score)) + geom_density(na.rm=TRUE)
multiplot(density_death, density_read, ncol=2)
# box_death <- boxplot(H_data1_ami_mort$Death_Score, main = "Mortality Rate")
# box_read  <- boxplot(H_data1_ami_readm$Readmission_Score, main = "Readmission Rate")
# multiplot(density_death, density_read, box_death, box_read, ncol=2)
# # grid.arrange(rectGrob(), rectGrob())
# # marrangeGrob(density_death, density_read, box_death, box_read, ncol=2, nrow=2)
# grid.arrange(density_death, density_read, box_death, box_read, ncol=2)
rm(list=c("density_death", "density_read"))
quant_count_mort <- quantile(counties_avg_mort_score$Average_Mort_Score, na.rm=TRUE)
quant_count_readm <- quantile(counties_avg_readm_score$Average_Readm_Score, na.rm=TRUE)
quant_mort <- quantile(H_data1_ami_mort$Death_Score, na.rm=TRUE)
quant_readm <- quantile(H_data1_ami_readm$Readmission_Score, na.rm=TRUE)
counties_avg_scores[,5] <- NA
counties_avg_scores[,6] <- NA
counties_avg_scores[,7] <- NA
colnames(counties_avg_scores)[5] <- "Death_Cat"
colnames(counties_avg_scores)[6] <- "Readm_Cat"
colnames(counties_avg_scores)[7] <- "Death_Readm_Cat"
hospitals_scores[,13] <- NA
hospitals_scores[,14] <- NA
hospitals_scores[,15] <- NA
colnames(hospitals_scores)[13] <- "Death_Cat"
colnames(hospitals_scores)[14] <- "Readm_Cat"
colnames(hospitals_scores)[15] <- "Death_Readm_Cat"
counties_avg_scores[which(counties_avg_scores$Average_Mort_Score<=quant_count_mort[2]),5] <- "Better Than National"
counties_avg_scores[which(counties_avg_scores$Average_Mort_Score>=quant_count_mort[4]),5] <- "Worse Than National"
counties_avg_scores[which(counties_avg_scores$Average_Readm_Score<=quant_count_readm[2]),6] <- "Better Than National"
counties_avg_scores[which(counties_avg_scores$Average_Readm_Score>=quant_count_readm[4]),6] <- "Worse Than National"
counties_avg_scores[which(counties_avg_scores$Death_Cat == "Better Than National" & counties_avg_scores$Readm_Cat == "Better Than National"),7] <- "Better Than National"
counties_avg_scores[which(counties_avg_scores$Death_Cat == "Worse Than National" & counties_avg_scores$Readm_Cat == "Worse Than National"),7] <- "Worse Than National"
hospitals_scores[which(hospitals_scores$Death_Score<=quant_mort[2]),13] <- "Better Than National"
hospitals_scores[which(hospitals_scores$Death_Score>=quant_mort[4]),13] <- "Worse Than National"
hospitals_scores[which(hospitals_scores$Readmission_Score<=quant_readm[2]),14] <- "Better Than National"
hospitals_scores[which(hospitals_scores$Readmission_Score>=quant_readm[4]),14] <- "Worse Than National"
hospitals_scores[which(hospitals_scores$Death_Cat == "Better Than National" & hospitals_scores$Readm_Cat == "Better Than National"),15] <- "Better Than National"
hospitals_scores[which(hospitals_scores$Death_Cat == "Worse Than National" & hospitals_scores$Readm_Cat == "Worse Than National"),15] <- "Worse Than National"
```
##Slide 5
```{r}
ggplot(counties_avg_scores, aes(Average_Mort_Score, Average_Readm_Score)) + geom_point(aes(color=as.factor(Death_Readm_Cat)), na.rm=TRUE) + geom_smooth(method = lm, na.rm = TRUE)
```
##Slide 6
```{r}
ggplot(hospitals_scores, aes(Death_Score, Readmission_Score)) + geom_point(aes(color=as.factor(Death_Readm_Cat)), na.rm=TRUE) + geom_smooth(method = lm, na.rm = TRUE)
counties_best_mort_readm <- hospitals_scores %>% filter(Death_Readm_Cat == "Better Than National") %>% group_by(County, State) %>% summarise(Count_Hospitals = n_distinct(Hospital)) %>% arrange(desc(Count_Hospitals))
counties_worst_mort_readm <- hospitals_scores %>% filter(Death_Readm_Cat == "Worse Than National") %>% group_by(County, State) %>% summarise(Count_Hospitals = n_distinct(Hospital)) %>% arrange(desc(Count_Hospitals))
count_total_hosp <- hospitals_scores %>% group_by(County, State) %>% summarise(Count_Total_Hospitals = n_distinct(Hospital)) %>% arrange(desc(Count_Total_Hospitals))
counties_best_mort_readm_avg <- inner_join(counties_best_mort_readm, count_total_hosp, by = c("County", "State"))
counties_best_mort_readm_avg$avg <- counties_best_mort_readm_avg$Count_Hospitals/counties_best_mort_readm_avg$Count_Total_Hospitals
counties_worst_mort_readm_avg <- inner_join(counties_worst_mort_readm, count_total_hosp, by = c("County", "State"))
counties_worst_mort_readm_avg$avg <- counties_worst_mort_readm_avg$Count_Hospitals/counties_worst_mort_readm_avg$Count_Total_Hospitals
counties_best_mort_readm2 <- counties_avg_scores %>% filter(Death_Readm_Cat == "Better Than National")
counties_worst_mort_readm2 <- counties_avg_scores %>% filter(Death_Readm_Cat == "Worse Than National")
counties_best_mort_readm2[,8] <- rowMeans(counties_best_mort_readm2[3:4])
counties_worst_mort_readm2[,8] <- rowMeans(counties_worst_mort_readm2[3:4])
colnames(counties_best_mort_readm2)[8] <- "index"
colnames(counties_worst_mort_readm2)[8] <- "index"
county_state_best_1 <- counties_best_mort_readm[,1:2]
county_state_worst_1 <- counties_worst_mort_readm[,1:2]
county_state_best_2 <- counties_best_mort_readm2[,1:2]
county_state_worst_2 <- counties_worst_mort_readm2[,1:2]
county_state_best <- intersect(county_state_best_1,county_state_best_2)
county_state_best <- inner_join(counties_best_mort_readm_avg, county_state_best, by = c("County", "State")) %>% arrange(desc(avg))
county_state_worst <- intersect(county_state_worst_1,county_state_worst_2)
county_state_worst <- inner_join(counties_worst_mort_readm_avg, county_state_worst, by = c("County", "State")) %>% arrange(desc(avg))
counties_best_mort <- hospitals_scores %>% filter(Death_Cat == "Better Than National") %>% group_by(County, State) %>% summarise(Count_Hospitals = n_distinct(Hospital)) %>% arrange(desc(Count_Hospitals))
counties_best_mort_avg <- inner_join(counties_best_mort, count_total_hosp, by = c("County", "State"))
counties_best_mort_avg$percent_good <- counties_best_mort_avg$Count_Hospitals/counties_best_mort_avg$Count_Total_Hospitals * 100
counties_best_mort_avg_filt <- counties_best_mort_avg %>% filter(Count_Hospitals>=7)
ggplot(counties_best_mort_avg_filt, aes(percent_good, Count_Total_Hospitals)) + geom_point(aes(color=as.factor(County)))
counties_worst_mort <- hospitals_scores %>% filter(Death_Cat == "Worse Than National") %>% group_by(County, State) %>% summarise(Count_Hospitals = n_distinct(Hospital)) %>% arrange(desc(Count_Hospitals))
counties_worst_mort_avg <- inner_join(counties_worst_mort, count_total_hosp, by = c("County", "State"))
counties_worst_mort_avg$percent_bad <- counties_worst_mort_avg$Count_Hospitals/counties_worst_mort_avg$Count_Total_Hospitals * 100
counties_worst_mort_avg_filt <- counties_worst_mort_avg %>% filter(Count_Hospitals>=4)
ggplot(counties_worst_mort_avg_filt, aes(percent_bad, Count_Total_Hospitals)) + geom_point(aes(color=as.factor(County)))
counties_best_mort2 <- counties_avg_scores %>% filter(Death_Cat == "Better Than National")
counties_worst_mort2 <- counties_avg_scores %>% filter(Death_Cat == "Worse Than National")
counties_best_readm <- hospitals_scores %>% filter(Readm_Cat == "Better Than National") %>% group_by(County, State) %>% summarise(Count_Hospitals = n_distinct(Hospital)) %>% arrange(desc(Count_Hospitals))
counties_best_readm_avg <- inner_join(counties_best_readm, count_total_hosp, by = c("County", "State"))
counties_best_readm_avg$percent_good <- counties_best_readm_avg$Count_Hospitals/counties_best_readm_avg$Count_Total_Hospitals * 100
counties_best_readm_avg_filt <- counties_best_readm_avg %>% filter(Count_Hospitals>=4)
ggplot(counties_best_readm_avg_filt, aes(percent_good, Count_Total_Hospitals)) + geom_point(aes(color=as.factor(County)))
counties_worst_readm <- hospitals_scores %>% filter(Readm_Cat == "Worse Than National") %>% group_by(County, State) %>% summarise(Count_Hospitals = n_distinct(Hospital)) %>% arrange(desc(Count_Hospitals))
counties_worst_readm_avg <- inner_join(counties_worst_readm, count_total_hosp, by = c("County", "State"))
counties_worst_readm_avg$percent_bad <- counties_worst_readm_avg$Count_Hospitals/counties_worst_readm_avg$Count_Total_Hospitals * 100
counties_worst_readm_avg_filt <- counties_worst_readm_avg %>% filter(Count_Hospitals>=4)
ggplot(counties_worst_readm_avg_filt, aes(percent_bad, Count_Total_Hospitals)) + geom_point(aes(color=as.factor(County)))
counties_best_readm2 <- counties_avg_scores %>% filter(Readm_Cat == "Better Than National")
counties_worst_readm2 <- counties_avg_scores %>% filter(Readm_Cat == "Worse Than National")
ggplot(counties_worst_readm_avg_filt, aes(percent_bad, Count_Total_Hospitals)) + geom_point(aes(color=as.factor(County)))
library(tidyverse)
library(xtable)
setwd("~/Documents/courses/newCollege/current/eda/projects/project2/")
source("http://peterhaschke.com/Code/multiplot.R")
complications <- read.csv("csv_files/main_complications.csv")
clot_quants <- quantile(complications$Score.Clot)
clot_quants <- quantile(complications$Score.Clot, na.rm = TRUE)
best_clots <- complications[complications$Score.Clot <= clot_quants[[2]],c("County.Name", "State")]
View(best_clots)
View(complications)
View(best_clots)
best_clots <- complications[complications$Score.Clot <= clot_quants[[2]],]
View(best_clots)
best_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot <= clot_quants[[2]],]
View(best_clots)
names(best_clots) <- c("County", "State")
worst_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot >= clot_quants[[4]], c("County.Name", "State")]
names(best_clots) <- c("County", "State")
names(worst_clots) <- c("County", "State")
View(worst_clots)
rm(clot_quants)
smoking <- read.csv("csv_files/smoking.csv", stringsAsFactors = FALSE)
aggriData <- read.csv("csv_files/aggriculture_aggregated.csv", stringsAsFactors = FALSE)
names(aggriData) <- gsub("\\.", ",", gsub("_", "\\ ", names(aggriData)))
smoking_quants <- quantile(smoking$percent_smoking, na.rm = TRUE)
smoking_quants <- quantile(smoking$percent_smoking, na.rm = TRUE)
best_smoking <- smoking[smoking$percent_smoking <= smoking_quants[[2]], c("County", "State")]
worst_smoking <- smoking[smoking$percent_smoking >= smoking_quants[[4]], c("County", "State")]
rm(smoking_quants)
merged_best <- inner_join(best_clots, best_smoking, by=c("County", "State"))
View(best_smoking)
View(smoking)
smoking <- smoking %>% mutate(percent_smoking = toupper(percent_smoking))
smoking_quants <- quantile(smoking$percent_smoking, na.rm = TRUE)
best_smoking <- smoking[smoking$percent_smoking <= smoking_quants[[2]], c("County", "State")]
worst_smoking <- smoking[smoking$percent_smoking >= smoking_quants[[4]], c("County", "State")]
rm(smoking_quants)
smoking_quants <- quantile(smoking$percent_smoking, na.rm = TRUE)
smoking <- read.csv("csv_files/smoking.csv", stringsAsFactors = FALSE)
aggriData <- read.csv("csv_files/aggriculture_aggregated.csv", stringsAsFactors = FALSE)
names(aggriData) <- gsub("\\.", ",", gsub("_", "\\ ", names(aggriData)))
smoking <- smoking %>% mutate(County = toupper(County))
smoking_quants <- quantile(smoking$percent_smoking, na.rm = TRUE)
best_smoking <- smoking[smoking$percent_smoking <= smoking_quants[[2]], c("County", "State")]
worst_smoking <- smoking[smoking$percent_smoking >= smoking_quants[[4]], c("County", "State")]
rm(smoking_quants)
merged_best <- inner_join(best_clots, best_smoking, by=c("County", "State"))
View(best_smoking)
View(best_clots)
View(complications)
c
complications <- read.csv("csv_files/main_complications.csv")
clot_quants <- quantile(complications$Score.Clot, na.rm = TRUE)
best_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot <= clot_quants[[2]], c("County.Name", "State")]
View(best_clots)
names(best_clots) <- c("County", "State")
worst_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot >= clot_quants[[4]], c("County.Name", "State")]
names(worst_clots) <- c("County", "State")
rm(clot_quants)
smoking <- read.csv("csv_files/smoking.csv", stringsAsFactors = FALSE)
aggriData <- read.csv("csv_files/aggriculture_aggregated.csv", stringsAsFactors = FALSE)
names(aggriData) <- gsub("\\.", ",", gsub("_", "\\ ", names(aggriData)))
smoking <- smoking %>% mutate(County = toupper(County))
smoking_quants <- quantile(smoking$percent_smoking, na.rm = TRUE)
best_smoking <- smoking[smoking$percent_smoking <= smoking_quants[[2]], c("County", "State")]
worst_smoking <- smoking[smoking$percent_smoking >= smoking_quants[[4]], c("County", "State")]
rm(smoking_quants)
merged_best <- inner_join(best_clots, best_smoking, by=c("County", "State"))
View(merged_best)
best_mort <- read.csv("csv_files/counties_best_mort_avg.csv")
worst_mort <- read.csv("csv_files/counties_worst_mort_avg.csv")
View(best_mort)
merged_best <- inner_join(merged_best, best_mort, by=c("County", "State"))
View(merged_best)
merged_worst <- inner_join(merged_worst, worst_mort, by=c("County", "State"))
merged_worst <- inner_join(worst_clots, worst_smoking, by=c("County", "State"))
merged_worst <- inner_join(merged_worst, worst_mort, by=c("County", "State"))
View(merged_worst)
View(complications)
sepsis_quants <- quantile(complications$Score.Sepsis, na.rm = TRUE)
best_seps <- complications[!is.na(complications$Score.Sepsis) & complications$Score.Sepsis <= sepsis_quants[[2]], c("County.Name", "State")]
best_seps <- complications[!is.na(complications$Score.Sepsis) & complications$Score.Sepsis >= sepsis_quants[[4]], c("County.Name", "State")]
best_seps <- complications[!is.na(complications$Score.Sepsis) & complications$Score.Sepsis <= sepsis_quants[[2]], c("County.Name", "State")]
worst_seps <- complications[!is.na(complications$Score.Sepsis) & complications$Score.Sepsis >= sepsis_quants[[4]], c("County.Name", "State")]
names(best_seps) <- c("County", "State")
names(worst_seps) <- c("County", "State")
merged_best <- inner_join(best_clots, best_smoking, by=c("County", "State"))
merged_best <- inner_join(merged_best, best_mort, by=c("County", "State"))
merged_best <- inner_join(merged_best, best_seps, by=c("County", "State"))
merged_worst <- inner_join(worst_clots, worst_smoking, by=c("County", "State"))
merged_worst <- inner_join(merged_worst, worst_mort, by=c("County", "State"))
merged_worst <- inner_join(merged_worst, worst_seps, by=c("County", "State"))
View(merged_best)
write.csv(merged_best, "csv_files/merged_best.csv")
write.csv(merged_worst, "csv_files/merged_worst.csv")
write.csv(merged_best, "csv_files/merged_best.csv", row.names = FALSE)
write.csv(merged_worst, "csv_files/merged_worst.csv", row.names = FALSE)
merged_best <- read.csv("csv_files/merged_best.csv")
merged_worst <- read.csv("csv_files/merged_worst.csv")
View(best_clots)
rm(best_*)
rm(best_)
rm(best_clots)
rm(best_mort)
rm(best_seps)
rm(best_smoking)
rm(worst_clots)
rm(worst_clots)
rm(worst_mort)
rm(worst_seps)
rm(worst_smoking)
View(merged_best)
complications <- read.csv("csv_files/main_complications.csv")
clot_quants <- quantile(complications$Score.Clot, na.rm = TRUE)
best_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot <= clot_quants[[2]], c("County.Name", "State")]
best_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot <= clot_quants[[2]], ]
View(best_clots)
dim(best_clots)
best_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot <= clot_quants[[2]], 2:dim(complications)[[2]]]
View(best_clots)
names(best_clots)[1] <- "County"
View(best_clots)
complications <- read.csv("csv_files/main_complications.csv")
complications <- complications[,2:dim(complications)[[2]]]
names(best_clots)[1] <- "County"
View(complications)
names(complications)[1] <- "County"
View(complications)
complications <- read.csv("csv_files/main_complications.csv")
complications <- complications[,2:dim(complications)[[2]]]
names(complications)[1] <- "County"
clot_quants <- quantile(complications$Score.Clot, na.rm = TRUE)
best_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot <= clot_quants[[2]], ]
worst_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot >= clot_quants[[4]], ]
rm(clot_quants)
sepsis_quants <- quantile(complications$Score.Sepsis, na.rm = TRUE)
sepsis_quants <- quantile(complications$Score.Sepsis, na.rm = TRUE)
best_seps <- complications[!is.na(complications$Score.Sepsis) & complications$Score.Sepsis <= sepsis_quants[[2]], ]
worst_seps <- complications[!is.na(complications$Score.Sepsis) & complications$Score.Sepsis >= sepsis_quants[[4]], ]
rm(sepsis_quants)
best_mort <- read.csv("csv_files/counties_best_mort_avg.csv")
worst_mort <- read.csv("csv_files/counties_worst_mort_avg.csv")
smoking_quants <- quantile(smoking$percent_smoking, na.rm = TRUE)
smoking_quants <- quantile(smoking$percent_smoking, na.rm = TRUE)
best_smoking <- smoking[smoking$percent_smoking <= smoking_quants[[2]], ]
worst_smoking <- smoking[smoking$percent_smoking >= smoking_quants[[4]],]
rm(smoking_quants)
merged_best <- inner_join(best_clots, best_smoking, by=c("County", "State"))
merged_best <- inner_join(merged_best, best_mort, by=c("County", "State"))
merged_best <- inner_join(merged_best, best_seps, by=c("County", "State"))
merged_worst <- inner_join(worst_clots, worst_smoking, by=c("County", "State"))
merged_worst <- inner_join(merged_worst, worst_mort, by=c("County", "State"))
merged_worst <- inner_join(merged_worst, worst_seps, by=c("County", "State"))
View(merged_best)
merged_best <- inner_join(best_clots, best_smoking, by=c("County", "State"))
View(merged_best)
merged_best <- inner_join(merged_best, best_mort, by=c("County", "State"))
View(merged_best)
merged_best <- inner_join(merged_best, best_seps)
View(merged_best)
merged_best <- inner_join(best_clots, best_smoking, by=c("County", "State"))
merged_best <- inner_join(merged_best, best_mort, by=c("County", "State"))
merged_best <- inner_join(merged_best, best_seps)
merged_worst <- inner_join(worst_clots, worst_smoking, by=c("County", "State"))
merged_worst <- inner_join(merged_worst, worst_mort, by=c("County", "State"))
merged_worst <- inner_join(merged_worst, worst_seps)
View(merged_worst)
write.csv(merged_best, "csv_files/merged_best.csv", row.names = FALSE)
write.csv(merged_worst, "csv_files/merged_worst.csv", row.names = FALSE)
merged_best <- read.csv("csv_files/merged_best.csv")
merged_worst <- read.csv("csv_files/merged_worst.csv")
ggplot(H_data1_ami_mort, aes(Death_Score)) + geom_density(na.rm=TRUE)
H_data1_ami_mort <- read.csv("csv_files/H_data1_ami_mort.csv")
H_data1_ami_readm <- read.csv("csv_files/H_data1_ami_readm.csv")
ggplot(H_data1_ami_mort, aes(Death_Score)) + geom_density(na.rm=TRUE)
dats <- inner_join(smoking, aggriData, by=c("County", "State"))
dats_10 <- dats[,c(1, 2, 3, 9)]
names(dats_10) <- c("State", "County", "Percent_Smoking", "Low_Access_10_Miles_Share")
smoking_quants <- quantile(dats_10$Percent_Smoking)
worst_smoking <- smoking[smoking$percent_smoking >= smoking_quants[[4]], ]
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Smoking Percentage of Population", x="Percentage of Population that Smokes")
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Smoking Percentage of Population", x="Percentage of Population that Smokes")
smoking <- read.csv("csv_files/smoking.csv", stringsAsFactors = FALSE)
aggriData <- read.csv("csv_files/aggriculture_aggregated.csv", stringsAsFactors = FALSE)
names(aggriData) <- gsub("\\.", ",", gsub("_", "\\ ", names(aggriData)))
smoking <- smoking %>% mutate(County = toupper(County))
dats <- inner_join(smoking, aggriData, by=c("County", "State"))
dats_10 <- dats[,c(1, 2, 3, 9)]
names(dats_10) <- c("State", "County", "Percent_Smoking", "Low_Access_10_Miles_Share")
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Smoking Percentage of Population", x="Percentage of Population that Smokes")
View(dats_10)
smoking <- read.csv("csv_files/smoking.csv", stringsAsFactors = FALSE)
aggriData <- aggriData %>% mutate(County = toupper(County))
dats <- inner_join(smoking, aggriData, by=c("County", "State"))
dats <- inner_join(smoking, aggriData, by=c("County", "State"))
aggriData <- read.csv("csv_files/aggriculture_aggregated.csv", stringsAsFactors = FALSE)
aggriData <- aggriData %>% mutate(County = toupper(County))
dats <- inner_join(smoking, aggriData, by=c("County", "State"))
View(aggriData)
View(smoking)
smoking <- smoking %>% mutate(County = toupper(County))
dats <- inner_join(smoking, aggriData, by=c("County", "State"))
dats_10 <- dats[,c(1, 2, 3, 9)]
names(dats_10) <- c("State", "County", "Percent_Smoking", "Low_Access_10_Miles_Share")
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Smoking Percentage of Population", x="Percentage of Population that Smokes")
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = Percent_Smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_best$percent_smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = list(merged_best$percent_smoking)))
ggplot(data=dats_10, aes(x=Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_best$percent_smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_best$percent_smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_best$percent_smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = c(merged_best$percent_smoking)))
merged_best$percent_smoking
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(aes(xintercept = merged_best$percent_smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) #+ geom_vline(aes(xintercept = merged_best$percent_smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(aes(xintercept = merged_best$percent_smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(aes(xintercept = dats_10$percent_smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(aes(xintercept = merged_best$percent_smoking))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(aes(xintercept = merged_best$percent_smoking, color=County))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(aes(xintercept = as.numeric(merged_best$percent_smoking)))
?vline
?geom_vline
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(aes(data = merged_best$percent_smoking, color=County))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(aes(data = merged_best, xintercept = percent_smoking, color=County))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(data = merged_best, aes(xintercept = percent_smoking, color=County))
ggplot(data=dats_10, aes(x=Low_Access_10_Miles_Share, y=Percent_Smoking)) + geom_point(alpha=0.8, size=0.2) + geom_smooth() + labs(x="Poor Access to Supermarkets", y="Percentage of Smokers in Population", title="Smoking Percentage vs Access to Nutrition") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(data = merged_best, aes(xintercept = percent_smoking, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Smoking Percentage of Population", x="Percentage of Population that Smokes") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(data = merged_best, aes(xintercept = percent_smoking, color=County))
rm(best_mort)
rm(best_clots)
rm(best_seps)
rm(best_smoking)
rm(worst_clots)
rm(worst_mort)
rm(worst_seps)
rm(worst_smoking)
merged_best = inner_join(merged_best, aggriData)
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Smoking Percentage of Population", x="Percentage of Population that Smokes") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_1_mile._share, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Smoking Percentage of Population", x="Percentage of Population that Smokes") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_1_mile._share, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage of Population that Smokes") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_1_mile._share, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_1_mile._share, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_10_miles._share, color=County))
merged_worst = inner_join(merged_worst, aggriData)
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") + geom_vline(aes(xintercept = merged_worst$Low_access._seniors_age_65._at_10_miles._share)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_10_miles._share, color=County))
ggplot(data=dats_10, aes(x=Low_Access_10_Miles_Share, y=Percent_Smoking)) + geom_point(alpha=0.8, size=0.2) + geom_smooth() + labs(x="Poor Access to Supermarkets", y="Percentage of Smokers in Population", title="Smoking Percentage vs Access to Nutrition")
countyHealth <- read.csv("csv_files/countyHealthRankings.csv")
ggplot(data=countyHealth, aes(x=Obesity)) + geom_density(fill='darkolivegreen2') + labs(title="Percentage of Obesity in Population")
tmpDf <- dats_10 %>% gather("Field", "Percentage", 3:4)
tmpDf$Field = as.character(gsub("Percent_Smoking", "Smokers", tmpDf$Field))
tmpDf$Field = as.character(gsub("Low_Access_10_Miles_Share", "Low Nutritional Access", tmpDf$Field))
ggplot(data=tmpDf) + geom_density(aes(x=Percentage, fill=Field))
ggplot(data=countyHealth, aes(x=Obesity)) + geom_density(fill='darkolivegreen2') + labs(title="Percentage of Obesity in Population")
View(countyHealth)
countyHealth$County <- toupper(countyHealth$County)
View(countyHealth)
merged_best <- inner_join(merged_best, countyHealth)
merged_worst <- inner_join(merged_worst, countyHealth)
countyHealth <- read.csv("csv_files/countyHealthRankings.csv")
countyHealth$County <- toupper(countyHealth$County)
merged_best <- inner_join(merged_best, countyHealth)
merged_worst <- inner_join(merged_worst, countyHealth)
ggplot(data=countyHealth, aes(x=Obesity)) + geom_density(fill='darkolivegreen2') + labs(title="Percentage of Obesity in Population") + geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x=Chlamydia)) + geom_density(fill='darkolivegreen2') + labs(title="Percentage of Chlamydia in Population") + geom_vline(aes(xintercept = merged_worst$Chlamydia)) + geom_vline(data = merged_best, aes(xintercept = Chlamydia, color=County))
ggplot(data=countyHealth, aes(x= Excessive_Drinking, y=Chlamydia)) + geom_density(fill='darkolivegreen2') + labs(title="Chlamyida VS Excessive Drinking") + geom_vline(aes(xintercept = merged_worst$Excessive_Drinking)) + geom_vline(data = merged_best, aes(xintercept = Excessive_Drinking, color=County))
ggplot(data=countyHealth, aes(x= Excessive_Drinking, y=Chlamydia)) + geom_point(fill='darkolivegreen2') + labs(title="Chlamyida VS Excessive Drinking") + geom_vline(aes(xintercept = merged_worst$Excessive_Drinking)) + geom_vline(data = merged_best, aes(xintercept = Excessive_Drinking, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Active)) + geom_point(fill='darkolivegreen2') + labs(title="Physical Activity VS Obesity") + geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2') + labs(title="Physical Inactivity VS Obesity") + geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, x=Obesity, y=Physically_Inactive) #+ geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, aes(x=Obesity, y=Physically_Inactive)) #+ geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, aes(x=Obesity, y=Physically_Inactive, color=County)) #+ geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2', color='lightblue') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, aes(x=Obesity, y=Physically_Inactive, color=County)) #+ geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2', color='lightblue') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, aes(x=Obesity, y=Physically_Inactive, color=County)) #+ geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") + geom_vline(aes(xintercept = merged_worst$Low_access._seniors_age_65._at_10_miles._share)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_10_miles._share, color=County))
library(tidyverse)
library(xtable)
setwd("~/Documents/courses/newCollege/current/eda/projects/project2/")
source("http://peterhaschke.com/Code/multiplot.R")
merged_best <- read.csv("csv_files/merged_best.csv")
merged_worst <- read.csv("csv_files/merged_worst.csv")
complications <- read.csv("csv_files/main_complications.csv")
complications <- complications[,2:dim(complications)[[2]]]
names(complications)[1] <- "County"
clot_quants <- quantile(complications$Score.Clot, na.rm = TRUE)
best_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot <= clot_quants[[2]], ]
worst_clots <- complications[!is.na(complications$Score.Clot) & complications$Score.Clot >= clot_quants[[4]], ]
rm(clot_quants)
sepsis_quants <- quantile(complications$Score.Sepsis, na.rm = TRUE)
rm(best_clots)
rm(worst_clots)
rm(sepsis_quants)
H_data1_ami_mort <- read.csv("csv_files/H_data1_ami_mort.csv")
H_data1_ami_readm <- read.csv("csv_files/H_data1_ami_readm.csv")
ggplot(H_data1_ami_mort, aes(Death_Score)) + geom_density(na.rm=TRUE)
ggplot(H_data1_ami_readm, aes(Readmission_Score)) + geom_density(na.rm=TRUE)
boxplot(H_data1_ami_mort$Death_Score, main = "Mortality Rate")
boxplot(H_data1_ami_readm$Readmission_Score, main = "Readmission Rate")
counties_avg_scores <- read.csv("csv_files/counties_avg_scores.csv")
hospitals_scores <- read.csv("csv_files/hospitals_scores.csv")
ggplot(counties_avg_scores, aes(Average_Mort_Score, Average_Readm_Score)) + geom_point(aes(color=as.factor(Death_Readm_Cat)), na.rm=TRUE) + geom_smooth(method = lm, na.rm = TRUE)
ggplot(hospitals_scores, aes(Death_Score, Readmission_Score)) + geom_point(aes(color=as.factor(Death_Readm_Cat)), na.rm=TRUE) + geom_smooth(method = lm, na.rm = TRUE)
counties_best_mort_avg_filt <- read.csv("csv_files/counties_best_mort_avg_filt.csv")
ggplot(counties_best_mort_avg_filt, aes(percent_good, Count_Total_Hospitals)) + geom_point(aes(color=as.factor(County)))
counties_worst_mort_avg_filt <- read.csv("csv_files/counties_worst_mort_avg_filt.csv")
ggplot(counties_worst_mort_avg_filt, aes(percent_bad, Count_Total_Hospitals)) + geom_point(aes(color=as.factor(County)))
best_mort <- read.csv("csv_files/counties_best_mort_avg.csv")
worst_mort <- read.csv("csv_files/counties_worst_mort_avg.csv")
rm(worst_mort)
rm(best_mort)
smoking <- read.csv("csv_files/smoking.csv", stringsAsFactors = FALSE)
aggriData <- read.csv("csv_files/aggriculture_aggregated.csv", stringsAsFactors = FALSE)
names(aggriData) <- gsub("\\.", ",", gsub("_", "\\ ", names(aggriData)))
smoking <- smoking %>% mutate(County = toupper(County))
aggriData <- aggriData %>% mutate(County = toupper(County))
dats <- inner_join(smoking, aggriData, by=c("County", "State"))
dats_10 <- dats[,c(1, 2, 3, 9)]
names(dats_10) <- c("State", "County", "Percent_Smoking", "Low_Access_10_Miles_Share")
merged_best = inner_join(merged_best, aggriData)
merged_worst = inner_join(merged_worst, aggriData)
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") + geom_vline(aes(xintercept = merged_worst$Low_access._seniors_age_65._at_10_miles._share)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_10_miles._share, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") + geom_vline(aes(xintercept = merged_worst$Low_access._seniors_age_65._at_10_miles._share)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_10_miles._share, color=County))
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(data = merged_best, aes(xintercept = percent_smoking, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") + geom_vline(aes(xintercept = merged_worst$Low_access._seniors_age_65._at_10_miles._share)) #+ geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_10_miles._share, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") + geom_vline(aes(xintercept = merged_worst$Low_access._seniors_age_65._at_10_miles._share[[1]])) #+ geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_10_miles._share, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") #+ geom_vline(aes(xintercept = merged_worst$Low_access._seniors_age_65._at_10_miles._share)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_10_miles._share, color=County))
View(merged_worst)
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") + geom_vline(data= merged_worst, aes(xintercept = Low_access._seniors_age_65._at_10_miles._share)) + geom_vline(data = merged_best, aes(xintercept = Low_access._seniors_age_65._at_10_miles._share, color=County))
ggplot(data=dats_10, aes(Low_Access_10_Miles_Share)) + geom_density(fill='tomato2') + labs(title="Density Plot for Low Access to Food", x="Percentage with Low Access") + geom_vline(data= merged_worst, aes(xintercept = `Low access, seniors age 65, at 10 miles, share`)) + geom_vline(data = merged_best, aes(xintercept = `Low access, seniors age 65, at 10 miles, share`, color=County))
View(merged_best)
ggplot(data=dats_10, aes(Percent_Smoking)) + geom_density(fill='turquoise3') + labs(x="Percentage of Smokers in Population") + geom_vline(aes(xintercept = merged_worst$percent_smoking)) + geom_vline(data = merged_best, aes(xintercept = percent_smoking, color=County))
ggplot(data=countyHealth, aes(x=Chlamydia)) + geom_density(fill='darkolivegreen2') + labs(title="Percentage of Chlamydia in Population") + geom_vline(aes(xintercept = merged_worst$Chlamydia)) + geom_vline(data = merged_best, aes(xintercept = Chlamydia, color=County))
countyHealth <- read.csv("csv_files/countyHealthRankings.csv")
countyHealth$County <- toupper(countyHealth$County)
merged_best <- inner_join(merged_best, countyHealth)
merged_worst <- inner_join(merged_worst, countyHealth)
ggplot(data=countyHealth, aes(x=Chlamydia)) + geom_density(fill='darkolivegreen2') + labs(title="Percentage of Chlamydia in Population") + geom_vline(aes(xintercept = merged_worst$Chlamydia)) + geom_vline(data = merged_best, aes(xintercept = Chlamydia, color=County))
ggplot(data=countyHealth, aes(x= Excessive_Drinking, y=Chlamydia)) + geom_point(fill='darkolivegreen2') + labs(title="Chlamyida VS Excessive Drinking") + geom_vline(aes(xintercept = merged_worst$Excessive_Drinking)) + geom_vline(data = merged_best, aes(xintercept = Excessive_Drinking, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2', color='lightblue') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, aes(x=Obesity, y=Physically_Inactive, color=County)) #+ geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x=Obesity)) + geom_density(fill='darkolivegreen2') + labs(title="Percentage of Obesity in Population") + geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2', color='lightblue') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, aes(x=Obesity, y=Physically_Inactive, color=County)) #+ geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2', color='lightblue') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, aes(x=Obesity, y=Physically_Inactive, color=County)) + geom_point(data=merged_worst, aes(x=Obesity, y=Physically_Inactive, color=County)) #+ geom_vline(aes(xintercept = merged_worst$Obesity)) + geom_vline(data = merged_best, aes(xintercept = Obesity, color=County))
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2', color='lightblue') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, aes(x=Obesity, y=Physically_Inactive, color=County)) + geom_point(data=merged_worst, aes(x=Obesity, y=Physically_Inactive, color=County)) + geom_smooth()
ggplot(data=countyHealth, aes(x= Obesity, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2', color='lightblue') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, aes(x=Obesity, y=Physically_Inactive, color=County)) + geom_point(data=merged_worst, aes(x=Obesity, y=Physically_Inactive, color=County))
ggplot(data=countyHealth, aes(x= Chlamydia, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2', color='lightblue') + labs(title="Physical Inactivity VS Obesity") + geom_point(data = merged_best, aes(x=Obesity, y=Physically_Inactive, color=County)) + geom_point(data=merged_worst, aes(x=Obesity, y=Physically_Inactive, color=County))
ggplot(data=countyHealth, aes(x= Chlamydia, y=Physically_Inactive)) + geom_point(fill='darkolivegreen2', color='lightblue')
